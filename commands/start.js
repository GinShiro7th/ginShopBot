const startKeyboard = require('../models/keyboard/startkeyboard');
const adminStartKeyboard = require('../models/keyboard/admin/adminStartKeyboard');
const Trial = require('../db/trial'); 

module.exports = async function(msg, bot, user){
  if (user.IsAdmin){
    await bot.sendMessage(msg.chat.id, "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –∞–¥–º–∏–Ω. –í–∑–º–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–π—Ç–µ —Å –±–æ—Ç–æ–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–Ω–æ–ø–æ–∫", adminStartKeyboard.reply());
  } else {
    const trial = await Trial.findOne({
      where: {
        UserId: msg.from.id
      }
    });
    const trialsMsgs = [
      "üì¢–†–∞—Å—Å—ã–ª–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤ –ª—é–±—ã–µ —á–∞—Ç—ã + üì¶1 —Ç–æ–≤–∞—Ä –∞–∫—Ç–∏–≤–Ω—ã–π —Å –Ω–∞–ª–∏—á–∏–µ–º 1, üí¨–æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç —Ç–æ–ª—å–∫–æ –°–£–ï–¢–û–õ–û–ì",
      "üì¢–†–∞—Å—Å—ã–ª–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤ –ª—é–±—ã–µ —á–∞—Ç—ã + üì¶10 —Ç–æ–≤–∞—Ä–æ–≤, üí¨–æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç —Ç–æ–ª—å–∫–æ –°–£–ï–¢–û–õ–û–ì",
      "üì¢–†–∞—Å—Å—ã–ª–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤ –ª—é–±—ã–µ —á–∞—Ç—ã + üì¶100 —Ç–æ–≤–∞—Ä–æ–≤, üí¨–æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç —Ç–æ–ª—å–∫–æ –°–£–ï–¢–û–õ–û–ì",
      "üì¢–†–∞—Å—Å—ã–ª–∫–∞ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤ –ª—é–±—ã–µ —á–∞—Ç—ã + üì¶–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏ üí¨–≤—ã–±–æ—Ä –ª—é–±–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —á–∞—Ç–∞"
    ];
    await bot.sendMessage(msg.chat.id, "–í–∞—à —Ç–µ–∫—É—â–∏–π —Ç–∞—Ä–∏—Ñ:\n\n" + trialsMsgs[trial.Type - 1]);
    await bot.sendMessage(msg.chat.id, "–í–∑–º–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–π—Ç–µ —Å –±–æ—Ç–æ–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–Ω–æ–ø–æ–∫", startKeyboard.reply());
  }
}